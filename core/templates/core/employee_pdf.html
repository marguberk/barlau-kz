<!DOCTYPE html>
{% load core_extras %}
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ employee.get_full_name }} - Резюме</title>
    <style>
        @page {
            size: A4;
            margin: 0;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            margin: 0;
            padding: 0;
            color: #1f2937;
            line-height: 1.6;
            background: #f9fafb;
        }
        
        .container {
            display: flex;
            width: 100%;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 35%;
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            color: white;
            padding: 25px 20px;
            position: relative;
            overflow: hidden;
        }
        
        .sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
            pointer-events: none;
        }
        
        .sidebar-content {
            position: relative;
            z-index: 1;
        }
        
        .content {
            width: 65%;
            padding: 25px 30px;
            background: white;
        }
        
        .profile-image {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255, 255, 255, 0.2);
            display: block;
            margin: 0 auto 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .profile-placeholder {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            font-size: 48px;
            font-weight: 700;
            color: white;
            border: 4px solid rgba(255, 255, 255, 0.2);
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #1f2937;
            position: relative;
            padding-bottom: 8px;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(90deg, #2563eb, #3b82f6);
            border-radius: 2px;
        }
        
        .sidebar-section {
            margin-bottom: 25px;
        }
        
        .sidebar-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.95);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 14px;
        }
        
        .contact-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            padding: 8px 0;
        }
        
        .contact-icon {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            margin-top: 2px;
            flex-shrink: 0;
        }
        
        .contact-text {
            flex: 1;
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            word-break: break-word;
        }
        
        .name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 6px;
            color: #1f2937;
            line-height: 1.2;
        }
        
        .position {
            font-size: 16px;
            color: #6b7280;
            margin-bottom: 15px;
            font-weight: 500;
        }
        
        .salary {
            display: inline-block;
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .section {
            margin-bottom: 25px;
        }
        
        .content-item {
            margin-bottom: 15px;
            padding: 12px 0;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .content-item:last-child {
            border-bottom: none;
        }
        
        .item-text {
            color: #374151;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .language-item, .hobby-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 12px;
            border-radius: 15px;
            margin-bottom: 8px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            display: inline-block;
            margin-right: 8px;
        }
        
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 8px;
            margin-top: 10px;
        }
        
        .skill-item {
            background: #f3f4f6;
            color: #374151;
            padding: 6px 12px;
            border-radius: 12px;
            text-align: center;
            font-size: 13px;
            font-weight: 500;
        }
        
        .footer {
            display: none;
        }
        
        .achievement-item {
            background: transparent;
            border-left: none;
            padding: 12px 0;
            margin-bottom: 12px;
            border-radius: 0;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .achievement-item:last-child {
            border-bottom: none;
        }
        
        .achievement-item .item-text {
            color: #374151;
            font-weight: normal;
        }
        
        .logo-section {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .logo-text {
            font-size: 20px;
            font-weight: 700;
            color: white;
            letter-spacing: -0.5px;
        }
        
        .empty-state {
            color: #9ca3af;
            font-style: italic;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-content">
                <!-- Логотип компании -->
                <div class="logo-section">
                    <div class="logo-text">BARLAU.KZ</div>
                </div>
                
                <!-- Фото профиля -->
            {% if employee.photo %}
            <img src="{{ employee.photo.url }}" alt="{{ employee.get_full_name }}" class="profile-image">
                {% else %}
                <div class="profile-placeholder">
                    {{ employee.first_name|first }}{{ employee.last_name|first }}
                </div>
            {% endif %}
            
                <!-- Контактная информация -->
            <div class="sidebar-section">
                <h2 class="sidebar-title">Контактная информация</h2>
                    
                    {% if employee.email %}
                <div class="contact-item">
                    <div class="contact-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6 8L10.2111 10.1056C11.3373 10.6686 12.6627 10.6686 13.7889 10.1056L18 8M6 19H18C19.6569 19 21 17.6569 21 16V8C21 6.34315 19.6569 5 18 5H6C4.34315 5 3 6.34315 3 8V16C3 17.6569 4.34315 19 6 19Z" stroke="rgba(255,255,255,0.9)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                    </div>
                    <div class="contact-text">{{ employee.email }}</div>
                </div>
                    {% endif %}
                    
                    {% if employee.phone %}
                <div class="contact-item">
                    <div class="contact-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M11.7925 14.742L9.25195 12.2057C8.43422 11.3893 8.43422 10.0657 9.25195 9.24935C9.98275 8.51977 10.071 7.36701 9.45987 6.53498L7.37385 3.69514C6.75631 2.85444 5.53346 2.76108 4.79506 3.49826C3.67086 4.62058 2.91814 6.10588 3.00713 7.6906C3.44184 15.4326 9.49836 20.6079 16.3476 20.993C17.9183 21.0813 19.3811 20.3229 20.4935 19.2123C21.2429 18.4642 21.148 17.2252 20.2933 16.5995L17.4726 14.5344C16.6392 13.9242 15.4845 14.0124 14.7537 14.742C13.936 15.5583 12.6102 15.5583 11.7925 14.742Z" stroke="rgba(255,255,255,0.9)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                    </div>
                    <div class="contact-text">{{ employee.phone }}</div>
                </div>
                    {% endif %}
                    
                    {% if employee.location %}
                <div class="contact-item">
                    <div class="contact-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 8.91995C5 12.6683 6.34786 14.6401 11.173 21.5716C11.5706 22.1428 12.4294 22.1428 12.827 21.5716C17.6521 14.6401 19 12.6683 19 8.91995C19 5.09817 15.866 2 12 2C8.13401 2 5 5.09817 5 8.91995Z" stroke="rgba(255,255,255,0.9)" stroke-width="2" stroke-linejoin="round"/>
                                <path d="M13 9C13 8.44772 12.5523 8 12 8C11.4477 8 11 8.44772 11 9C11 9.55228 11.4477 10 12 10C12.5523 10 13 9.55228 13 9ZM15 9C15 10.6569 13.6569 12 12 12C10.3431 12 9 10.6569 9 9C9 7.34315 10.3431 6 12 6C13.6569 6 15 7.34315 15 9Z" fill="rgba(255,255,255,0.9)"/>
                            </svg>
                        </div>
                        <div class="contact-text">{{ employee.location|default:"Алматы, Казахстан" }}</div>
                    </div>
                    {% endif %}
            </div>
            
                <!-- Языки -->
            <div class="sidebar-section">
                <h2 class="sidebar-title">Языки</h2>
                {% if employee.languages %}
                    {% for language in employee.languages|split_lines %}
                        {% if language %}
                        <div class="language-item">{{ language }}</div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <div class="language-item">Казахский (родной)</div>
                    <div class="language-item">Русский (свободно)</div>
                {% endif %}
            </div>
            
                <!-- Хобби и интересы -->
            <div class="sidebar-section">
                <h2 class="sidebar-title">Хобби и интересы</h2>
                {% if employee.hobbies %}
                    {% for hobby in employee.hobbies|split_lines %}
                        {% if hobby %}
                        <div class="hobby-item">{{ hobby }}</div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <div class="hobby-item">Ремонт автомобилей</div>
                    <div class="hobby-item">Рыбалка</div>
                    <div class="hobby-item">Слесарное дело</div>
                    <div class="hobby-item">Изобретательство</div>
                {% endif %}
                </div>
            </div>
        </div>
        
        <div class="content">
            <!-- Заголовок -->
            <h1 class="name">{{ employee.first_name }} {{ employee.last_name }}</h1>
            <div class="position">{{ employee.position|default:"Главный механик" }}</div>
            
            {% if employee.desired_salary %}
            <div class="salary">Желаемая зарплата: {{ employee.desired_salary }}</div>
            {% else %}
            <div class="salary">Желаемая зарплата: 400000</div>
            {% endif %}
            
            <!-- Опыт работы -->
            <div class="section">
                <h2 class="section-title">Опыт работы</h2>
                {% if employee.experience %}
                    {% for experience in employee.experience|split_lines %}
                        {% if experience %}
                        <div class="content-item">
                            <div class="item-text">{{ experience }}</div>
                        </div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                <div class="content-item">
                    <div class="item-text"><strong>2005-2025:</strong> Главный механик ТОО "Barlau" - Ремонт и обслуживание автопарка</div>
                </div>
                <div class="content-item">
                    <div class="item-text"><strong>2000-2005:</strong> Слесарь-механик ООО "АвтоСервис" - Ремонт грузовых автомобилей</div>
                </div>
                {% endif %}
            </div>
            
            <!-- Образование -->
            <div class="section">
                <h2 class="section-title">Образование</h2>
                {% if employee.education %}
                    {% for education in employee.education|split_lines %}
                        {% if education %}
                        <div class="content-item">
                            <div class="item-text">{{ education }}</div>
                        </div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                <div class="content-item">
                    <div class="item-text"><strong>Алматинский автодорожный техникум</strong>, специальность "Ремонт и обслуживание автомобилей" (1990-1995). Множественные курсы по новым технологиям.</div>
                </div>
                {% endif %}
            </div>
            
            <!-- Навыки -->
            <div class="section">
                <h2 class="section-title">Навыки</h2>
                {% if employee.skills %}
                <div class="skills-grid">
                    {% for skill in employee.skills|split_lines %}
                        {% if skill %}
                        <div class="skill-item">{{ skill }}</div>
                        {% endif %}
                    {% endfor %}
                </div>
                {% else %}
                <div class="empty-state">Навыки не указаны</div>
                {% endif %}
            </div>
            
            <!-- Сертификаты и достижения -->
            <div class="section">
                <h2 class="section-title">Сертификаты и достижения</h2>
                {% if employee.certifications %}
                    {% for cert in employee.certifications|split_lines %}
                        {% if cert %}
                        <div class="achievement-item">
                            <div class="item-text">{{ cert }}</div>
                        </div>
                        {% endif %}
                    {% endfor %}
                {% else %}
                <div class="achievement-item">
                    <div class="item-text"><strong>Удостоверение автомеханика 6 разряда</strong>, Сертификат по сварочным работам</div>
                </div>
                <div class="achievement-item">
                    <div class="item-text"><strong>Освоил ремонт всех марок грузовиков в автопарке</strong></div>
                </div>
                <div class="achievement-item">
                    <div class="item-text"><strong>Сократил время ремонта в среднем на 25%</strong></div>
                </div>
                <div class="achievement-item">
                    <div class="item-text"><strong>Обучил 10+ молодых механиков</strong></div>
                </div>
                <div class="achievement-item">
                    <div class="item-text"><strong>Получил звание "Мастер золотые руки" (2019)</strong></div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</body>
</html> 