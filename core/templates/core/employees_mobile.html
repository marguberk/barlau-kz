{% extends "core/base.html" %}
{% load static %}

{% block title %}Сотрудники - BARLAU.KZ{% endblock %}

{% block content %}
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6">
    <!-- Заголовок -->
    <div class="mb-4 flex justify-between items-center">
        <h1 class="text-xl sm:text-2xl font-bold text-black">Сотрудники</h1>
    </div>

    <!-- Панель поиска и фильтра -->
    <div class="mb-6 flex items-center gap-2">
        <div class="flex-grow relative" style="max-width: calc(100% - 50px);">
            <div class="flex h-10 w-full rounded-lg shadow-[0px_1px_2px_0px_rgba(13,13,18,0.06)] border border-zinc-200 bg-white">
                <div class="flex items-center pl-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </div>
                <input type="text" placeholder="Поиск" class="px-2 py-2 w-full focus:outline-none text-gray-700 rounded-lg" />
            </div>
        </div>
        <div class="shrink-0">
            <button class="h-10 w-10 bg-white rounded-lg shadow-[0px_1px_2px_0px_rgba(13,13,18,0.06)] border border-zinc-200 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500">
                    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                </svg>
            </button>
        </div>
    </div>

    <!-- Список сотрудников -->
    <div class="space-y-4">
        {% for employee in employees %}
        <div class="bg-white">
            <div class="p-4">
                <div class="flex justify-between items-center">
                    <h2 class="font-semibold">{{ employee.name }}</h2>
                    <span class="text-gray-600">{{ employee.role }}</span>
                </div>
                <p class="text-gray-600 mt-2">Телефон: {{ employee.phone }}</p>
                <div class="mt-4">
                    <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Посмотреть резюме</button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Специальные стили для адаптивности -->
<style>
    /* Общие стили для фиксации цветов иконок в меню */
    a, a:visited, a:link, a:hover, a:active, 
    a *, a:visited *, a:link *, a:hover *, a:active * {
        color: inherit !important;
        fill: inherit !important;
        stroke: inherit !important;
        text-decoration: none !important;
    }
    
    /* Стили для десктопной версии - сетка из карточек */
    @media (min-width: 768px) {
        .space-y-4 {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }
    }
    
    /* Стили для планшетной версии - увеличенные иконки в нижнем меню */
    @media (max-width: 1100px) and (min-width: 641px) {
        /* Адаптация для нижнего меню */
        .fixed.bottom-0 .flex.justify-around.items-center {
            justify-content: space-evenly;
        }
        
        .fixed.bottom-0 .flex.flex-col.items-center i {
            font-size: 2rem !important;
            margin-bottom: 0.5rem;
        }
        
        .fixed.bottom-0 .flex.flex-col.items-center .text-xs {
            font-size: 0.875rem !important;
        }
    }
    
    /* Стили для мобильной версии */
    @media (max-width: 640px) {
        .container {
            padding-left: 1rem;
            padding-right: 1rem;
        }
        
        /* Стили для панели поиска и фильтра на мобильных устройствах */
        .flex-grow.relative {
            max-width: 75% !important; /* Сужаем строку поиска еще больше на маленьких экранах */
        }
        
        .h-10.w-10 {
            min-width: 40px; /* Фиксированная ширина кнопки фильтра */
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    // Обработчик для отображения резюме сотрудников
    document.addEventListener('DOMContentLoaded', function() {
        const resumeButtons = document.querySelectorAll('button');
        resumeButtons.forEach(button => {
            if (button.textContent.includes('Посмотреть резюме')) {
                button.addEventListener('click', function() {
                    const employeeName = this.closest('.bg-white').querySelector('.font-semibold').textContent;
                    alert(`Резюме сотрудника ${employeeName} будет отображено здесь`);
                });
            }
        });
    });
</script>
{% endblock %} 